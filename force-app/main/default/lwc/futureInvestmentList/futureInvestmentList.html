<template>
    <template if:true={dataObj}>
        <lightning-layout horizontal-align="center">
            <lightning-layout-item size="3">
                <div class="custom-box">
                    <lightning-layout>
                        <lightning-layout-item>
                            <lightning-badge 
                                label={dataObj.accountNumber} 
                                class="badge-green" 
                                onclick={badgeClickHandler}
                                data-id={dataObj.recordId}>
                            </lightning-badge>
                        </lightning-layout-item>
                    </lightning-layout>
                    
                    <lightning-layout multiple-rows="true">
                        <lightning-layout-item size="6" class="text-align-left">
                            <span><strong>Start Date</strong></span>
                        </lightning-layout-item>
                        <lightning-layout-item size="6" class="text-align-left">
                            <lightning-formatted-date-time value={dataObj.startDate}></lightning-formatted-date-time>
                        </lightning-layout-item>
                        <lightning-layout-item size="6" class="text-align-left">
                            <span><strong>Amount</strong></span>
                        </lightning-layout-item>
                        <lightning-layout-item size="6" class="text-align-left">
                            <lightning-formatted-number value={dataObj.amount} format-style="currency" currency-code="INR">
                            </lightning-formatted-number>
                        </lightning-layout-item>
                        <lightning-layout-item size="6" class="text-align-left">
                            <span><strong>Maturity Date</strong></span>
                        </lightning-layout-item>
                        <lightning-layout-item size="6" class="text-align-left">
                            <lightning-formatted-date-time value={dataObj.maturityDate}></lightning-formatted-date-time>
                        </lightning-layout-item>
                        <lightning-layout-item size="6" class="text-align-left">
                            <span><strong>Total Contris</strong></span>
                        </lightning-layout-item>
                        <lightning-layout-item size="6" class="text-align-left">
                            <lightning-formatted-number value={dataObj.numberOfInvestments}>
                            </lightning-formatted-number>
                        </lightning-layout-item>
                    </lightning-layout>
                </div>
            </lightning-layout-item>
        </lightning-layout>
        
        <div style="margin-top: 10px;">
            <div class="custom-li-box" style="margin-left: 16px; background: lightgrey;">
                <lightning-layout>
                    <lightning-layout-item size="3">
                        <span><strong>Date</strong></span>
                    </lightning-layout-item>
                    <lightning-layout-item size="3">
                        <span><strong>Amount</strong></span>
                    </lightning-layout-item>
                    <lightning-layout-item size="3">
                        <span><strong>Fiscal Year</strong></span>
                    </lightning-layout-item>
                    <lightning-layout-item size="3">
                        <span><strong>Action</strong></span>
                    </lightning-layout-item>
                </lightning-layout>
            </div>
            
            <div style="overflow:scroll; height:230px;">
            <template for:each={dataObj.lines} for:item="item">
                <div style="margin-left: 16px;" key={item.recordId} class="custom-li-box">
                    <lightning-layout >
                        <lightning-layout-item size="3">
                            <lightning-formatted-date-time value={item.contributionDate}></lightning-formatted-date-time>
                        </lightning-layout-item>
                        <lightning-layout-item size="3">
                            <lightning-formatted-number value={item.contributionAmount} format-style="currency" currency-code="INR">
                            </lightning-formatted-number>
                        </lightning-layout-item>
                        <lightning-layout-item size="3">
                            {item.taggedFY}
                        </lightning-layout-item>
                        <lightning-layout-item size="3">
                            <a href={item.recordURL} target="_blank">View</a>
                        </lightning-layout-item>
                    </lightning-layout>
                </div>
            </template>
            </div>
        </div>
    </template>
</template>